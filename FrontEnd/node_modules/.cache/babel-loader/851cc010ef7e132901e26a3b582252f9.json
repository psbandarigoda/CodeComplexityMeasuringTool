{"ast":null,"code":"var _jsxFileName = \"/home/pasindu/Documents/my Projects/CodeComplexityMeasuringTool/FrontEnd/src/components/user_managment/register.component.js\";\nimport React, { Component } from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBCardTitle, MDBCardText, MDBIcon, MDBCardHeader } from \"mdbreact\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport axios from \"axios\";\nimport validationConstant from \"../../util/validationConstants\";\nimport lengthCalculator from \"../../util/stringlengthCalculator\";\nimport constants from \"../../util/constants\";\nexport default class UserRegister extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangEmail = this.onChangEmail.bind(this);\n    this.onChanagePassword = this.onChanagePassword.bind(this);\n    this.onChanageConfirmPassword = this.onChanageConfirmPassword.bind(this);\n    this.isValid = this.isValid.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      name: null,\n      email: null,\n      password: null,\n      confirmpassword: null,\n      isClicked: {\n        name: false,\n        email: false,\n        password: false,\n        confirmpassword: false\n      },\n      isError: {\n        name: false,\n        email: false,\n        password: false,\n        confirmpassword: false\n      }\n    };\n  }\n  /*onChange methods */\n\n\n  componentDidMount() {\n    if (localStorage.getItem(\"status\")) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  onChangeName(e) {\n    this.setState({\n      name: e.target.value\n    });\n    let tempClicked = this.state.isClicked;\n    tempClicked.name = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (lengthCalculator.lengthWithoutSpaces(e.target.value + \" \") < 3 || !validationConstant.textOnlyRegExp.test(e.target.value)) {\n      let tempError = this.state.isError;\n      tempError.name = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.name = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onChangEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n    let tempClicked = this.state.isClicked;\n    tempClicked.email = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (!validationConstant.emailRegExp.test(e.target.value)) {\n      let tempError = this.state.isError;\n      tempError.email = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.email = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onChanagePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n    let tempClicked = this.state.isClicked;\n    tempClicked.password = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (lengthCalculator.lengthWithoutSpaces(e.target.value + \" \") < 6) {\n      let tempError = this.state.isError;\n      tempError.password = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.password = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onChanageConfirmPassword(e) {\n    this.setState({\n      confirmpassword: e.target.value\n    });\n    let tempClicked = this.state.isClicked;\n    tempClicked.confirmpassword = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (lengthCalculator.lengthWithoutSpaces(e.target.value + \" \") < 6 || e.target.value !== this.state.password) {\n      let tempError = this.state.isError;\n      tempError.confirmpassword = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.confirmpassword = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    if (this.isValid()) {\n      let newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.post(constants.url + \"/user/add\", newUser).then(res => {\n        console.log(res.data);\n        swal(\"Success\", \"User added sucessfully\", \"success\");\n      }).catch(err => {\n        swal(\"Error\", err.response.data.error + \"\", \"error\");\n        console.log(err);\n      });\n    }\n  }\n\n  isValid() {\n    let tempClicked = this.state.isClicked;\n    tempClicked.name = true;\n    tempClicked.email = true;\n    tempClicked.password = true;\n    tempClicked.confirmpassword = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n    let tempError = this.state.isError;\n\n    if (lengthCalculator.lengthWithoutSpaces(this.state.name + \" \") < 3 || !validationConstant.textOnlyRegExp.test(this.state.name)) {\n      tempError.name = true;\n    }\n\n    if (!validationConstant.emailRegExp.test(this.state.email)) {\n      tempError.email = true;\n    }\n\n    if (lengthCalculator.lengthWithoutSpaces(this.state.password + \" \") < 6) {\n      tempError.password = true;\n    }\n\n    if (lengthCalculator.lengthWithoutSpaces(this.state.confirmpassword + \" \") < 6 || this.state.confirmpassword !== this.state.password) {\n      tempError.confirmpassword = true;\n    }\n\n    if (lengthCalculator.lengthWithoutSpaces(this.state.name + \" \") >= 3 && validationConstant.textOnlyRegExp.test(this.state.name)) {\n      if (validationConstant.emailRegExp.test(this.state.email)) {\n        if (lengthCalculator.lengthWithoutSpaces(this.state.password + \" \") >= 6) {\n          if (lengthCalculator.lengthWithoutSpaces(this.state.confirmpassword + \" \") >= 6 && this.state.confirmpassword === this.state.password) {\n            console.log(\"name correct\");\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(MDBContainer, {\n      className: \"w-25 mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MDBCard, {\n      className: \"d-flex justify-content-center align-self-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBCardHeader, {\n      className: \"text-center\",\n      color: \"primary-color\",\n      tag: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(MDBCardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"defaultFormRegisterNameEx\",\n      className: \"grey-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }\n    }, \"Your name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"defaultFormRegisterNameEx\",\n      className: `form-control ${!this.state.isClicked.name ? null : this.state.isError.name ? \"is-invalid\" : \"is-valid\"}`,\n      onChange: this.onChangeName,\n      value: this.state.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"defaultFormRegisterEmailEx\",\n      className: \"grey-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 15\n      }\n    }, \"Your email\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"defaultFormRegisterEmailEx\",\n      className: `form-control ${!this.state.isClicked.email ? null : this.state.isError.email ? \"is-invalid\" : \"is-valid\"}`,\n      onChange: this.onChangEmail,\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"defaultFormRegisterPasswordEx\",\n      className: \"grey-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 15\n      }\n    }, \"Your password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"defaultFormRegisterPasswordEx\",\n      className: `form-control ${!this.state.isClicked.password ? null : this.state.isError.password ? \"is-invalid\" : \"is-valid\"}`,\n      onChange: this.onChanagePassword,\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"defaultFormRegisterPasswordEx\",\n      className: \"grey-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 15\n      }\n    }, \"Confirm Your password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"defaultFormRegisterPasswordEx\",\n      className: `form-control ${!this.state.isClicked.confirmpassword ? null : this.state.isError.confirmpassword ? \"is-invalid\" : \"is-valid\"}`,\n      onChange: this.onChanageConfirmPassword,\n      value: this.state.confirmpassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \" btn btn-primary  btn-block \",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      icon: \"user-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 19\n      }\n    }), \" Register\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"text-center font-weight-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 13\n      }\n    }, \"Have an account ?\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 32\n      }\n    }, \" Login From Here\")))));\n  }\n\n}","map":{"version":3,"sources":["/home/pasindu/Documents/my Projects/CodeComplexityMeasuringTool/FrontEnd/src/components/user_managment/register.component.js"],"names":["React","Component","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBCard","MDBCardBody","MDBCardTitle","MDBCardText","MDBIcon","MDBCardHeader","BrowserRouter","Router","Route","Link","swal","axios","validationConstant","lengthCalculator","constants","UserRegister","constructor","props","onChangeName","bind","onChangEmail","onChanagePassword","onChanageConfirmPassword","isValid","onSubmit","state","name","email","password","confirmpassword","isClicked","isError","componentDidMount","localStorage","getItem","history","push","e","setState","target","value","tempClicked","lengthWithoutSpaces","textOnlyRegExp","test","tempError","emailRegExp","preventDefault","newUser","post","url","then","res","console","log","data","catch","err","response","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBBtn,\n  MDBCard,\n  MDBCardBody,\n  MDBCardTitle,\n  MDBCardText,\n  MDBIcon,\n  MDBCardHeader\n} from \"mdbreact\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport axios from \"axios\";\n\nimport validationConstant from \"../../util/validationConstants\";\nimport lengthCalculator from \"../../util/stringlengthCalculator\";\nimport constants from \"../../util/constants\";\n\nexport default class UserRegister extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangEmail = this.onChangEmail.bind(this);\n    this.onChanagePassword = this.onChanagePassword.bind(this);\n    this.onChanageConfirmPassword = this.onChanageConfirmPassword.bind(this);\n\n    this.isValid = this.isValid.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      name: null,\n      email: null,\n      password: null,\n      confirmpassword: null,\n\n      isClicked: {\n        name: false,\n        email: false,\n        password: false,\n        confirmpassword: false\n      },\n      isError: {\n        name: false,\n        email: false,\n        password: false,\n        confirmpassword: false\n      }\n    };\n  }\n\n  /*onChange methods */\n  componentDidMount(){\n    if(localStorage.getItem(\"status\")){\n      this.props.history.push(\"/\")\n    }\n  }\n\n  onChangeName(e) {\n    this.setState({\n      name: e.target.value\n    });\n\n    let tempClicked = this.state.isClicked;\n    tempClicked.name = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (\n      lengthCalculator.lengthWithoutSpaces(e.target.value + \" \") < 3 ||\n      !validationConstant.textOnlyRegExp.test(e.target.value)\n    ) {\n      let tempError = this.state.isError;\n      tempError.name = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.name = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onChangEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n\n    let tempClicked = this.state.isClicked;\n    tempClicked.email = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (!validationConstant.emailRegExp.test(e.target.value)) {\n      let tempError = this.state.isError;\n      tempError.email = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.email = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onChanagePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n\n    let tempClicked = this.state.isClicked;\n    tempClicked.password = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (lengthCalculator.lengthWithoutSpaces(e.target.value + \" \") < 6) {\n      let tempError = this.state.isError;\n      tempError.password = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.password = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onChanageConfirmPassword(e) {\n    this.setState({\n      confirmpassword: e.target.value\n    });\n\n    let tempClicked = this.state.isClicked;\n    tempClicked.confirmpassword = true;\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    if (\n      lengthCalculator.lengthWithoutSpaces(e.target.value + \" \") < 6 ||\n      e.target.value !== this.state.password\n    ) {\n      let tempError = this.state.isError;\n      tempError.confirmpassword = true;\n      this.setState({\n        isError: tempError\n      });\n    } else {\n      let tempError = this.state.isError;\n      tempError.confirmpassword = false;\n      this.setState({\n        isError: tempError\n      });\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    if (this.isValid()) {\n      let newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios\n        .post(constants.url + \"/user/add\", newUser)\n        .then(res => {\n          console.log(res.data);\n\n          swal(\"Success\", \"User added sucessfully\", \"success\");\n        })\n        .catch(err => {\n          swal(\"Error\", err.response.data.error + \"\", \"error\");\n          console.log(err);\n        });\n    }\n  }\n  isValid() {\n    let tempClicked = this.state.isClicked;\n    tempClicked.name = true;\n    tempClicked.email = true;\n    tempClicked.password = true;\n    tempClicked.confirmpassword = true;\n\n    this.setState({\n      isClicked: tempClicked\n    });\n\n    let tempError = this.state.isError;\n\n    if (\n      lengthCalculator.lengthWithoutSpaces(this.state.name + \" \") < 3 ||\n      !validationConstant.textOnlyRegExp.test(this.state.name)\n    ) {\n      tempError.name = true;\n    }\n    if (!validationConstant.emailRegExp.test(this.state.email)) {\n      tempError.email = true;\n    }\n    if (lengthCalculator.lengthWithoutSpaces(this.state.password + \" \") < 6) {\n      tempError.password = true;\n    }\n    if (\n      lengthCalculator.lengthWithoutSpaces(this.state.confirmpassword + \" \") <\n        6 ||\n      this.state.confirmpassword !== this.state.password\n    ) {\n      tempError.confirmpassword = true;\n    }\n\n    if (\n      lengthCalculator.lengthWithoutSpaces(this.state.name + \" \") >= 3 &&\n      validationConstant.textOnlyRegExp.test(this.state.name)\n    ) {\n      if (validationConstant.emailRegExp.test(this.state.email)) {\n        if (\n          lengthCalculator.lengthWithoutSpaces(this.state.password + \" \") >= 6\n        ) {\n          if (\n            lengthCalculator.lengthWithoutSpaces(\n              this.state.confirmpassword + \" \"\n            ) >= 6 &&\n            this.state.confirmpassword === this.state.password\n          ) {\n            console.log(\"name correct\")\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  }\n\n  render() {\n    return (\n      <MDBContainer className=\"w-25 mt-5\">\n        <MDBCard className=\"d-flex justify-content-center align-self-center\">\n          <MDBCardHeader className=\"text-center\" color=\"primary-color\" tag=\"h3\">\n            Sign Up\n          </MDBCardHeader>\n          <MDBCardBody>\n            <form onSubmit={this.onSubmit}>\n              <label htmlFor=\"defaultFormRegisterNameEx\" className=\"grey-text\">\n                Your name\n              </label>\n              <input\n                type=\"text\"\n                id=\"defaultFormRegisterNameEx\"\n                className={`form-control ${\n                  !this.state.isClicked.name\n                    ? null\n                    : this.state.isError.name\n                    ? \"is-invalid\"\n                    : \"is-valid\"\n                }`}\n                onChange={this.onChangeName}\n                value={this.state.name}\n              />\n              <br />\n              <label htmlFor=\"defaultFormRegisterEmailEx\" className=\"grey-text\">\n                Your email\n              </label>\n              <input\n                type=\"email\"\n                id=\"defaultFormRegisterEmailEx\"\n                className={`form-control ${\n                  !this.state.isClicked.email\n                    ? null\n                    : this.state.isError.email\n                    ? \"is-invalid\"\n                    : \"is-valid\"\n                }`}\n                onChange={this.onChangEmail}\n                value={this.state.email}\n              />\n              <br />\n              <label\n                htmlFor=\"defaultFormRegisterPasswordEx\"\n                className=\"grey-text\"\n              >\n                Your password\n              </label>\n              <input\n                type=\"password\"\n                id=\"defaultFormRegisterPasswordEx\"\n                className={`form-control ${\n                  !this.state.isClicked.password\n                    ? null\n                    : this.state.isError.password\n                    ? \"is-invalid\"\n                    : \"is-valid\"\n                }`}\n                onChange={this.onChanagePassword}\n                value={this.state.password}\n              />\n              <br />\n              <label\n                htmlFor=\"defaultFormRegisterPasswordEx\"\n                className=\"grey-text\"\n              >\n                Confirm Your password\n              </label>\n              <input\n                type=\"password\"\n                id=\"defaultFormRegisterPasswordEx\"\n                className={`form-control ${\n                  !this.state.isClicked.confirmpassword\n                    ? null\n                    : this.state.isError.confirmpassword\n                    ? \"is-invalid\"\n                    : \"is-valid\"\n                }`}\n                onChange={this.onChanageConfirmPassword}\n                value={this.state.confirmpassword}\n              />\n              <div className=\"text-center mt-4\">\n                <button className=\" btn btn-primary  btn-block \" type=\"submit\">\n                  <MDBIcon icon=\"user-plus\" /> Register\n                </button>\n              </div>\n            </form>\n            <br />\n            <p class=\"text-center font-weight-light\">\n              Have an account ?<Link to=\"/login\"> Login From Here</Link>\n            </p>\n          </MDBCardBody>\n        </MDBCard>\n      </MDBContainer>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}