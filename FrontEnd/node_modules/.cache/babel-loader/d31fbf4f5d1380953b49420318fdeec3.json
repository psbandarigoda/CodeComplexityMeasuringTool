{"ast":null,"code":"var _jsxFileName = \"/home/pasindu/Documents/my Projects/CodeComplexityMeasuringTool/FrontEnd/src/components/upload/file-upload.component.js\";\nimport React, { Component } from \"react\";\nimport { MDBContainer, MDBFileInput, MDBBtn } from \"mdbreact\";\nimport swal from \"sweetalert\";\nimport axios from \"axios\";\nimport constants from \"../../util/constants\";\nimport { MDBTable, MDBTableBody, MDBTableHead, MDBRow, MDBCol, MDBIcon } from \"mdbreact\";\nimport { Link } from \"react-router-dom\";\n\nconst File = props => {\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }\n  }, props.index), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }\n  }, props.file.fileName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }, props.file.uploadDate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, props.file.uploadTime), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: props.fileDelete,\n    className: \"btn btn-danger btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(MDBIcon, {\n    far: true,\n    icon: \"trash-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 18\n    }\n  }), \" \", \" Delete\", \" \"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/report/\" + props.file._id,\n    className: \"btn btn-primary btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(MDBIcon, {\n    icon: \"chart-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 18\n    }\n  }), \" \", \" Analyse\", \" \"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/assign/\" + props.file._id,\n    className: \"btn btn-primary btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(MDBIcon, {\n    icon: \"bug\",\n    style: {\n      color: '#FFF'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 22\n    }\n  }), \" \", \" Assign\", \" \"))));\n};\n\nclass FileUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileName: \"\",\n      file: \"\",\n      files: []\n    };\n    this.onChangeFile = this.onChangeFile.bind(this);\n    this.onClickUpload = this.onClickUpload.bind(this);\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"status\")) {\n      this.props.history.push(\"/login\");\n    }\n\n    this.loadAllFiles();\n  }\n\n  onChangeFile(e) {\n    this.setState({\n      file: e.target.files[0],\n      fileName: e.target.files[0].name\n    });\n  }\n\n  onClickUpload(e) {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"file\", this.state.file);\n    axios.post(constants.url + \"/upload/file\", formData).then(res => {\n      swal(\"Success\", \"File \" + res.data.fileName + \" uploaded successfully \" + \"\", \"success\");\n      this.loadAllFiles();\n      this.setState({\n        file: \"\",\n        fileName: \"\"\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  fileList() {\n    let count = 0;\n    return this.state.files.map((currentFile, i) => {\n      ++count;\n      return /*#__PURE__*/React.createElement(File, {\n        file: currentFile,\n        key: i,\n        index: count,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 14\n        }\n      });\n    });\n  }\n\n  loadAllFiles() {\n    axios.get(constants.url + \"/file/all\").then(res => {\n      this.setState({\n        files: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MDBContainer, {\n      className: \"w-75 mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, \"Upload your file\"), /*#__PURE__*/React.createElement(MDBRow, {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"inputGroupFileAddon01\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, \"File\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"custom-file-input\",\n      id: \"inputGroupFile01\",\n      \"aria-describedby\": \"inputGroupFileAddon01\",\n      onChange: this.onChangeFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }), this.state.fileName === \"\" ? /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-file-label\",\n      htmlFor: \"inputGroupFile01\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, \"Choose file\") : /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-file-label\",\n      htmlFor: \"inputGroupFile01\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, this.state.fileName)))), /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      color: \"primary\",\n      onClick: this.onClickUpload,\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      icon: \"upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }), \" Upload\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBTable, {\n      bordered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBTableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"bg-dark text-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      width: \"8%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, \"Number\"), /*#__PURE__*/React.createElement(\"th\", {\n      width: \"40%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"Upload Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \"Upload Time\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(MDBTableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, this.fileList()))));\n  }\n\n}\n\nexport default FileUpload;","map":{"version":3,"sources":["/home/pasindu/Documents/my Projects/CodeComplexityMeasuringTool/FrontEnd/src/components/upload/file-upload.component.js"],"names":["React","Component","MDBContainer","MDBFileInput","MDBBtn","swal","axios","constants","MDBTable","MDBTableBody","MDBTableHead","MDBRow","MDBCol","MDBIcon","Link","File","props","index","file","fileName","uploadDate","uploadTime","fileDelete","_id","color","FileUpload","constructor","state","files","onChangeFile","bind","onClickUpload","componentDidMount","localStorage","getItem","history","push","loadAllFiles","e","setState","target","name","preventDefault","formData","FormData","append","post","url","then","res","data","catch","err","console","log","fileList","count","map","currentFile","i","get","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { MDBContainer, MDBFileInput, MDBBtn } from \"mdbreact\";\nimport swal from \"sweetalert\";\nimport axios from \"axios\";\nimport constants from \"../../util/constants\";\nimport { MDBTable, MDBTableBody, MDBTableHead,MDBRow, MDBCol,MDBIcon } from \"mdbreact\";\nimport { Link } from \"react-router-dom\";\n\nconst File = props => {\n  return (\n    <tr>\n      <td>{props.index}</td>\n      <td>{props.file.fileName}</td>\n      <td>{props.file.uploadDate}</td>\n      <td>{props.file.uploadTime}</td>\n      <td>\n        <div className=\"btn-group\">\n          <button\n            type=\"button\"\n            onClick={props.fileDelete}\n            className=\"btn btn-danger btn-sm\"\n          >\n            {\" \"}<MDBIcon far icon=\"trash-alt\" />\n            {\" \"} Delete{\" \"}\n          </button>\n          <Link to={\"/report/\" +props.file._id} className=\"btn btn-primary btn-sm\">\n            {\" \"}<MDBIcon icon=\"chart-line\" />\n            {\" \"} Analyse{\" \"}\n        </Link>\n            <Link to={\"/assign/\" +props.file._id} className=\"btn btn-primary btn-sm\">\n                {\" \"}<MDBIcon icon=\"bug\" style={{ color: '#FFF' }} />\n                {\" \"} Assign{\" \"}\n            </Link>\n        </div>\n      </td>\n    </tr>\n  );\n};\n\nclass FileUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fileName: \"\",\n      file: \"\",\n      files: []\n    };\n\n    this.onChangeFile = this.onChangeFile.bind(this);\n    this.onClickUpload = this.onClickUpload.bind(this);\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"status\")) {\n      this.props.history.push(\"/login\");\n    }\n    this.loadAllFiles();\n  }\n\n  onChangeFile(e) {\n    this.setState({\n      file: e.target.files[0],\n      fileName: e.target.files[0].name\n    });\n  }\n\n  onClickUpload(e) {\n    e.preventDefault();\n\n    const formData = new FormData();\n\n    formData.append(\"file\", this.state.file);\n\n    axios\n      .post(constants.url + \"/upload/file\", formData)\n      .then(res => {\n        swal(\n          \"Success\",\n          \"File \" + res.data.fileName + \" uploaded successfully \" + \"\",\n          \"success\"\n        );\n        this.loadAllFiles();\n\n        this.setState({\n          file: \"\",\n          fileName: \"\"\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  fileList() {\n    let count = 0;\n    return this.state.files.map((currentFile, i) => {\n      ++count;\n      return <File file={currentFile} key={i} index={count} />;\n    });\n  }\n\n  loadAllFiles() {\n    axios\n      .get(constants.url + \"/file/all\")\n      .then(res => {\n        this.setState({\n          files: res.data\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    return (\n      <>\n        <MDBContainer className=\"w-75 mt-5\">\n          <h3 className=\"text-left\">Upload your file</h3>\n          <MDBRow className=\"mt-3\">\n            <MDBCol md=\"8\">\n              <div className=\"input-group\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\" id=\"inputGroupFileAddon01\">\n                    File\n                  </span>\n                </div>\n                <div className=\"custom-file\">\n                  <input\n                    type=\"file\"\n                    className=\"custom-file-input\"\n                    id=\"inputGroupFile01\"\n                    aria-describedby=\"inputGroupFileAddon01\"\n                    onChange={this.onChangeFile}\n                  />\n                  {this.state.fileName === \"\" ? (\n                    <label\n                      className=\"custom-file-label\"\n                      htmlFor=\"inputGroupFile01\"\n                    >\n                      Choose file\n                    </label>\n                  ) : (\n                    <label\n                      className=\"custom-file-label\"\n                      htmlFor=\"inputGroupFile01\"\n                    >\n                      {this.state.fileName}\n                    </label>\n                  )}\n                </div>\n              </div>\n            </MDBCol>\n            <MDBCol md=\"4\">\n              <MDBBtn color=\"primary\" onClick={this.onClickUpload} size=\"sm\">\n              <MDBIcon icon=\"upload\" /> Upload\n              </MDBBtn>\n            </MDBCol>\n          </MDBRow>\n        </MDBContainer>\n        <br></br>\n        <div className=\"container border-bottom\">\n          <MDBTable bordered>\n            <MDBTableHead>\n              <tr className=\"bg-dark text-light\">\n                <th width=\"8%\">Number</th>\n                <th width=\"40%\">Name</th>\n                <th>Upload Date</th>\n                <th>Upload Time</th>\n                <th>Action</th>\n              </tr>\n            </MDBTableHead>\n            <MDBTableBody>{this.fileList()}</MDBTableBody>\n          </MDBTable>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default FileUpload;\n"]},"metadata":{},"sourceType":"module"}